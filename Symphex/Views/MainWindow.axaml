<Window xmlns="https://github.com/avaloniaui"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:vm="using:Symphex.ViewModels"
		xmlns:converters="using:Symphex.Converters"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="700"
		x:Class="Symphex.Views.MainWindow"
		x:DataType="vm:MainWindowViewModel"
		Icon="/Assets/SymphexLogo.ico"
		Title="Music Downloader - Simple and Easy"
		MinWidth="900" MinHeight="650"
		Width="900" Height="650"
		Background="#000000">

	<Design.DataContext>
		<vm:MainWindowViewModel/>
	</Design.DataContext>

	<!-- Rest of your existing XAML content remains the same -->
	<Window.Styles>
		<!-- Your existing styles -->
		<Style Selector="Button.download">
			<Setter Property="Background" Value="#1e40af"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="CornerRadius" Value="12"/>
			<Setter Property="Padding" Value="28,14"/>
			<Setter Property="FontWeight" Value="Bold"/>
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Effect">
				<DropShadowEffect Color="#1e40af" Opacity="0.3" BlurRadius="15" OffsetX="0" OffsetY="5"/>
			</Setter>
		</Style>
		<Style Selector="Button.download:pointerover">
			<Setter Property="Background" Value="#1d4ed8"/>
			<Setter Property="RenderTransform" Value="scale(1.02) translateY(-1px)"/>
		</Style>
		<Style Selector="Button.download:pressed">
			<Setter Property="Background" Value="#1e3a8a"/>
			<Setter Property="RenderTransform" Value="scale(0.98)"/>
		</Style>

		<Style Selector="Button.simple">
			<Setter Property="Background" Value="#1a1a1a"/>
			<Setter Property="Foreground" Value="#ffffff"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="BorderBrush" Value="#404040"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="16,8"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Cursor" Value="Hand"/>
		</Style>
		<Style Selector="Button.simple:pointerover">
			<Setter Property="Background" Value="#2a2a2a"/>
			<Setter Property="BorderBrush" Value="#606060"/>
		</Style>

		<Style Selector="TextBox.large">
			<Setter Property="Background" Value="#1a1a1a"/>
			<Setter Property="BorderBrush" Value="#404040"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="10"/>
			<Setter Property="Padding" Value="16,12"/>
			<Setter Property="FontSize" Value="15"/>
			<Setter Property="Foreground" Value="#ffffff"/>
			<Setter Property="CaretBrush" Value="#3b82f6"/>
			<Setter Property="SelectionBrush" Value="#3b82f640"/>
		</Style>
		<Style Selector="TextBox.large:focus /template/ Border#PART_BorderElement">
			<Setter Property="BorderBrush" Value="#3b82f6"/>
		</Style>

		<Style Selector="Border.card">
			<Setter Property="Background" Value="#111111"/>
			<Setter Property="CornerRadius" Value="14"/>
			<Setter Property="Effect">
				<DropShadowEffect Color="Black" Opacity="0.3" BlurRadius="15" OffsetX="0" OffsetY="4"/>
			</Setter>
		</Style>

		<Style Selector="Border.preview">
			<Setter Property="Background" Value="#0f0f0f"/>
			<Setter Property="BorderBrush" Value="#333333"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="14"/>
			<Setter Property="Effect">
				<DropShadowEffect Color="Black" Opacity="0.2" BlurRadius="10" OffsetX="0" OffsetY="2"/>
			</Setter>
		</Style>

		<Style Selector="Border.progress">
			<Setter Property="Background" Value="#1a1a1a"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Height" Value="8"/>
		</Style>
	</Window.Styles>

	<!-- Rest of your existing grid content remains exactly the same -->
	<Grid>
		<!-- Success Toast Notification -->
		<Border IsVisible="{Binding IsToastVisible}"
				HorizontalAlignment="Center"
				VerticalAlignment="Top"
				Margin="0,60,0,0"
				CornerRadius="12"
				Padding="20,12"
				ZIndex="1000">
			<Border.Background>
				<LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
					<GradientStop Color="#10b981" Offset="0"/>
					<GradientStop Color="#059669" Offset="1"/>
				</LinearGradientBrush>
			</Border.Background>
			<Border.Effect>
				<DropShadowEffect Color="Black" Opacity="0.3" BlurRadius="20" OffsetX="0" OffsetY="8"/>
			</Border.Effect>
			<StackPanel Orientation="Horizontal" Spacing="12">
				<Border Width="24" Height="24" CornerRadius="12" Background="White">
					<TextBlock Text="âœ“" FontSize="14" FontWeight="Bold"
							  Foreground="#10b981" HorizontalAlignment="Center" VerticalAlignment="Center"/>
				</Border>
				<TextBlock Text="{Binding ToastMessage}" FontSize="14" FontWeight="Medium"
						   Foreground="White" VerticalAlignment="Center" MaxWidth="400" TextWrapping="Wrap"/>
			</StackPanel>
		</Border>

		<ScrollViewer VerticalScrollBarVisibility="Auto" Padding="40">
			<!-- Centered container with equal margins -->
			<Grid MaxWidth="800" HorizontalAlignment="Center">
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="20"/>
					<RowDefinition Height="*"/>
					<RowDefinition Height="20"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>

				<!-- Header - Centered at top -->
				<StackPanel Grid.Row="0" Spacing="8" HorizontalAlignment="Center">
					<Border Width="70" Height="70" CornerRadius="25" HorizontalAlignment="Center">
						<Border.Background>
							<LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
								<GradientStop Color="#3b82f6" Offset="0"/>
								<GradientStop Color="#2563eb" Offset="1"/>
							</LinearGradientBrush>
						</Border.Background>
						<TextBlock Text="ðŸŽµ" FontSize="24" Foreground="White"
								   HorizontalAlignment="Center" VerticalAlignment="Center"/>
					</Border>

					<StackPanel Spacing="4" HorizontalAlignment="Center">
						<TextBlock Text="Music Downloader" FontSize="24" FontWeight="Bold"
								   Foreground="#ffffff" HorizontalAlignment="Center"/>
						<TextBlock Text="Download any song with just a link!" FontSize="14"
								   Foreground="#cccccc" HorizontalAlignment="Center"/>
					</StackPanel>
				</StackPanel>

				<!-- Main Content - Two equal columns -->
				<Grid Grid.Row="2">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="20"/>
						<ColumnDefinition Width="*"/>
					</Grid.ColumnDefinitions>

					<!-- Left Column - Download Controls -->
					<Border Grid.Column="0" Classes="card" Padding="24" MinHeight="360" Width="390">
						<StackPanel Spacing="16" VerticalAlignment="Center">
							<TextBlock Text="Download Section" FontSize="18" FontWeight="Bold"
									   Foreground="#ffffff" HorizontalAlignment="Center"/>

							<!-- URL Input -->
							<StackPanel Spacing="10">
								<TextBlock Text="Paste your music link here" FontSize="16" FontWeight="Medium"
										   Foreground="#ffffff" HorizontalAlignment="Center"/>

								<TextBox Name="UrlTextBox"
										 Text="{Binding DownloadUrl}"
										 Classes="large"
										 Watermark="Paste YouTube link, or enter: song title - artist..."
										 Height="44"
										 Width="325"
										 FontSize="13"/>
							</StackPanel>

							<!-- Download Progress -->
							<StackPanel Spacing="6" IsVisible="{Binding IsDownloading}">
								<TextBlock Text="Downloading..." FontSize="14" FontWeight="Medium"
										   Foreground="#ffffff" HorizontalAlignment="Center"/>

								<Border Classes="progress" Padding="1">
									<Border CornerRadius="7" HorizontalAlignment="Left" Background="#3b82f6"
											Width="{Binding DownloadProgress, Converter={x:Static converters:PercentageToWidthConverter.Instance}}"/>
								</Border>
							</StackPanel>

							<!-- Download Button -->
							<Button Content="ðŸŽµ Download My Music" Command="{Binding DownloadCommand}"
									Classes="download" HorizontalAlignment="Center"/>

							<!-- Action Buttons -->
							<StackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Center">
								<Button Content="Clear" Command="{Binding ClearCommand}" Classes="simple"/>
								<Button Content="ðŸ“ Open Downloads" Command="{Binding OpenFolderCommand}" Classes="simple"/>
							</StackPanel>
						</StackPanel>
					</Border>

					<!-- Right Column - Song Preview -->
					<Border Grid.Column="2" Classes="preview" Padding="24" MinHeight="360" Width="390">
						<StackPanel Spacing="16" Width="342">
							<TextBlock Text="Song Preview" FontSize="18" FontWeight="Bold"
									   Foreground="#ffffff" HorizontalAlignment="Center"/>

							<!-- Preview Content -->
							<StackPanel Spacing="12" VerticalAlignment="Center" Height="280" Width="342">

								<!-- When No Song -->
								<StackPanel Spacing="12" HorizontalAlignment="Center" VerticalAlignment="Center"
											IsVisible="{Binding CurrentTrack.Title, Converter={x:Static StringConverters.IsNullOrEmpty}}">
									<Border Width="80" Height="80" CornerRadius="12" Background="#2a2a2a">
										<TextBlock Text="ðŸŽµ" FontSize="32" Foreground="#666666"
												   HorizontalAlignment="Center" VerticalAlignment="Center"/>
									</Border>
									<StackPanel Spacing="4">
										<TextBlock Text="No song loaded" FontSize="16" FontWeight="Medium"
												   Foreground="#666666" HorizontalAlignment="Center"/>
										<TextBlock Text="Enter a link and click download to see song details here"
												   FontSize="12" Foreground="#555555" HorizontalAlignment="Center"
												   TextWrapping="Wrap" TextAlignment="Center"/>
									</StackPanel>
								</StackPanel>

								<!-- When Song is Loaded -->
								<StackPanel Spacing="12" IsVisible="{Binding CurrentTrack.Title, Converter={x:Static StringConverters.IsNotNullOrEmpty}}">

									<!-- Album Art -->
									<Border Width="120" Height="120" CornerRadius="12" Background="#2a2a2a" HorizontalAlignment="Center">
										<Grid>
											<StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="4">
												<TextBlock Text="ðŸŽµ" FontSize="40" Foreground="#666666"/>
												<TextBlock Text="Album Art" FontSize="10" Foreground="#999999"/>
											</StackPanel>
											<Image Source="{Binding CurrentTrack.AlbumArt}" Stretch="UniformToFill"/>
										</Grid>
									</Border>

									<!-- Song Details -->
									<StackPanel Spacing="6">
										<TextBlock Text="{Binding CurrentTrack.Title, FallbackValue='Song Title'}"
												   FontSize="17" FontWeight="Bold" Foreground="#ffffff"
												   TextWrapping="Wrap" TextAlignment="Center" MaxLines="2"/>

										<TextBlock Text="{Binding CurrentTrack.Artist, FallbackValue='Artist Name'}"
												   FontSize="15" Foreground="#cccccc"
												   TextWrapping="Wrap" TextAlignment="Center"/>

										<TextBlock Text="{Binding CurrentTrack.Album}" FontSize="13" Foreground="#999999"
												   IsVisible="{Binding CurrentTrack.Album, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
												   TextWrapping="Wrap" TextAlignment="Center"/>

										<!-- Quality Badge -->
										<Border Background="#3b82f6" CornerRadius="12" Padding="8,4" HorizontalAlignment="Center" Margin="0,4,0,0"
												IsVisible="{Binding CurrentTrack.AlbumArt, Converter={x:Static ObjectConverters.IsNotNull}}">
											<TextBlock Text="{Binding CurrentTrack.HasRealAlbumArt, Converter={x:Static converters:BoolToAlbumArtStatusConverter.Instance}}"
													   FontSize="11" FontWeight="Bold" Foreground="White"/>
										</Border>
									</StackPanel>

								</StackPanel>

							</StackPanel>
						</StackPanel>
					</Border>

				</Grid>

				<!-- Footer - Centered at bottom -->
				<Border Grid.Row="4" Background="#1a1a1a" CornerRadius="10" Padding="16,10" HorizontalAlignment="Center" MinWidth="400">
					<StackPanel Spacing="4">
						<TextBlock Text="ðŸ“ Downloads saved to:" FontSize="13" Foreground="#999999" HorizontalAlignment="Center"/>
						<TextBlock Text="{Binding DownloadFolder}" FontSize="12" FontWeight="Medium"
								   Foreground="#cccccc" HorizontalAlignment="Center" TextTrimming="CharacterEllipsis"/>
					</StackPanel>
				</Border>

			</Grid>
		</ScrollViewer>
	</Grid>
</Window>